import{s as e,g as l,Y as t,c as s,w as n,i as a,o as u,a as d,b as i,t as o,h as c,j as r,I as m,f as p}from"./index-DBwkvsyG.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=h({name:"Limb",data:()=>({weights:{benchPress:0,pullUp:0,inclineBenchPress:0,seatedRow:0,cableFly:0,singleArmRow:0},sets:{benchPress:0,inclineBenchPress:0,seatedRow:0,cableFly:0,singleArmRow:0},reps:{benchPress:0,inclineBenchPress:0,seatedRow:0,cableFly:0,singleArmRow:0},selectedDate:""}),methods:{limb_submitData(){if(!this.selectedDate)return void e({title:"请先选择日期",icon:"none"});if(!(Object.values(this.weights).some((e=>e>0))||Object.values(this.sets).some((e=>e>0))||Object.values(this.reps).some((e=>e>0))))return void e({title:"请输入训练数据",icon:"none"});const s=new Date(this.selectedDate);s.setHours(12,0,0,0);const n=s.toISOString();l({title:"确认提交",content:`确定要提交 ${this.selectedDate} 的训练数据吗？`,success:l=>{l.confirm&&t.callFunction({name:"Mbody",data:{api:"limb_submitData",uni_weights:this.weights,uni_sets:this.sets,uni_reps:this.reps,timestamp:n,date:this.selectedDate}}).then((()=>{e({title:"提交成功",icon:"success"})})).catch((l=>{console.error("提交失败:",l),e({title:"提交失败",icon:"none"})}))}})},limb_getLastRecord(){if(!this.selectedDate)return void e({title:"请先选择日期",icon:"none"});const l=new Date(this.selectedDate);l.setHours(12,0,0,0);const s=l.toISOString();t.callFunction({name:"Mbody",data:{api:"limb_getLastRecord",timestamp:s,date:this.selectedDate}}).then((l=>{l.result&&l.result.data?(this.weights={...this.weights,...l.result.data.uni_weights},this.sets={...this.sets,...l.result.data.uni_sets},this.reps={...this.reps,...l.result.data.uni_reps},e({title:"数据加载成功",icon:"success"})):e({title:"该日期没有记录",icon:"none"})})).catch((l=>{console.error("获取记录失败:",l),e({title:"获取记录失败",icon:"none"})}))},onDateChange(e){this.selectedDate=e.detail.value}}},[["render",function(e,l,t,h,b,V){const w=a,g=r,y=m,U=p;return u(),s(w,{class:"limb-container"},{default:n((()=>[d(g,{mode:"date",value:b.selectedDate,onChange:V.onDateChange,class:"date-picker"},{default:n((()=>[d(w,{class:"picker-text"},{default:n((()=>[i(o(b.selectedDate||"请选择日期"),1)])),_:1})])),_:1},8,["value","onChange"]),c("table",{class:"exercise-table"},[c("tr",null,[c("th",null,"动作名称"),c("th",null,"重量"),c("th",null,"组数"),c("th",null,"次数"),c("th",null,"间隔"),c("th",null,"备注")]),c("tr",null,[c("td",null,"平板卧推"),c("td",null,[d(y,{type:"number",modelValue:b.weights.benchPress,"onUpdate:modelValue":l[0]||(l[0]=e=>b.weights.benchPress=e),class:"weight-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.sets.benchPress,"onUpdate:modelValue":l[1]||(l[1]=e=>b.sets.benchPress=e),class:"sets-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.reps.benchPress,"onUpdate:modelValue":l[2]||(l[2]=e=>b.reps.benchPress=e),class:"reps-input"},null,8,["modelValue"])]),c("td",null,"1-2min"),c("td",null,"-")]),c("tr",null,[c("td",null,"引体向上"),c("td",null,[d(y,{type:"number",modelValue:b.weights.pullUp,"onUpdate:modelValue":l[3]||(l[3]=e=>b.weights.pullUp=e),class:"weight-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.sets.pullUp,"onUpdate:modelValue":l[4]||(l[4]=e=>b.sets.pullUp=e),class:"sets-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.reps.pullUp,"onUpdate:modelValue":l[5]||(l[5]=e=>b.reps.pullUp=e),class:"reps-input"},null,8,["modelValue"])]),c("td",null,"1-2min"),c("td",null,"组数自定")]),c("tr",null,[c("td",null,"上斜卧推"),c("td",null,[d(y,{type:"number",modelValue:b.weights.inclineBenchPress,"onUpdate:modelValue":l[6]||(l[6]=e=>b.weights.inclineBenchPress=e),class:"weight-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.sets.inclineBenchPress,"onUpdate:modelValue":l[7]||(l[7]=e=>b.sets.inclineBenchPress=e),class:"sets-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.reps.inclineBenchPress,"onUpdate:modelValue":l[8]||(l[8]=e=>b.reps.inclineBenchPress=e),class:"reps-input"},null,8,["modelValue"])]),c("td",null,"1-2min"),c("td",null,"-")]),c("tr",null,[c("td",null,"坐姿划船"),c("td",null,[d(y,{type:"number",modelValue:b.weights.seatedRow,"onUpdate:modelValue":l[9]||(l[9]=e=>b.weights.seatedRow=e),class:"weight-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.sets.seatedRow,"onUpdate:modelValue":l[10]||(l[10]=e=>b.sets.seatedRow=e),class:"sets-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.reps.seatedRow,"onUpdate:modelValue":l[11]||(l[11]=e=>b.reps.seatedRow=e),class:"reps-input"},null,8,["modelValue"])]),c("td",null,"1-2min"),c("td",null,"-")]),c("tr",null,[c("td",null,"绳索夹胸"),c("td",null,[d(y,{type:"number",modelValue:b.weights.cableFly,"onUpdate:modelValue":l[12]||(l[12]=e=>b.weights.cableFly=e),class:"weight-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.sets.cableFly,"onUpdate:modelValue":l[13]||(l[13]=e=>b.sets.cableFly=e),class:"sets-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.reps.cableFly,"onUpdate:modelValue":l[14]||(l[14]=e=>b.reps.cableFly=e),class:"reps-input"},null,8,["modelValue"])]),c("td",null,"45-60S"),c("td",null,"每组力竭")]),c("tr",null,[c("td",null,"单臂哑铃划船"),c("td",null,[d(y,{type:"number",modelValue:b.weights.singleArmRow,"onUpdate:modelValue":l[15]||(l[15]=e=>b.weights.singleArmRow=e),class:"weight-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.sets.singleArmRow,"onUpdate:modelValue":l[16]||(l[16]=e=>b.sets.singleArmRow=e),class:"sets-input"},null,8,["modelValue"])]),c("td",null,[d(y,{type:"number",modelValue:b.reps.singleArmRow,"onUpdate:modelValue":l[17]||(l[17]=e=>b.reps.singleArmRow=e),class:"reps-input"},null,8,["modelValue"])]),c("td",null,"45-60S"),c("td",null,"每组力竭")])]),d(w,{class:"button-container"},{default:n((()=>[d(U,{onClick:V.limb_submitData,class:"submit-button"},{default:n((()=>[i("提交")])),_:1},8,["onClick"]),d(U,{onClick:V.limb_getLastRecord,class:"history-button"},{default:n((()=>[i("查看数据")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-fa290e69"]]);export{b as default};
